# karuta_game
おひとり様用かるたゲームです。  
百人一首の練習にお使いください。  
PHP対応のサーバに上げればランキング機能も使えます。  
[テストプレイ（2×2 初心者向け）](http://ykkawasaki.php.xdomain.jp/karuta2x2/game_index.html)  
[テストプレイ（2×2 初心者向け ミラー）](http://ykkawasaki.starfree.jp/karuta2x2/game_index.html)  

[テストプレイ（5×5）](http://ykkawasaki.php.xdomain.jp/karuta5x5/game_index.html)  
[テストプレイ（5×5 ミラー）](http://ykkawasaki.starfree.jp/karuta5x5/game_index.html)  

## Usage
PHP対応のサーバにPHPディレクトリ以下のファイルをアップロードしてください。  
ランキングをリセットする場合は、ranking_*.jsonファイルの中身を、以下のように書き換えてください。  
```{"data":[]}```

## How to Play
1. 「ゲームスタート！」ボタンを押してください（どのボタンを押しても同じです）。
1. 「読み札:」の右隣の黄色い部分に書かれている語録を、取り札（5×5の25個のボタン）から選んで、正しいものを押してください。ただし、取り札は下の句しか書いてありません。
    - 難易度は5種類あります。
        - 「初級」の場合、読み札は上の句も下の句も書かれています。
        - 「中級」の場合、読み札は上の句のみです。
        - 「上級」の場合、読み札が上の句のみになるうえ、取り札も毎回シャッフルされます。
        - 「マスターコース」の場合、読み札が決まり字のみ表示された後、1秒ごとに文字が追加されていきます。（もちろん取り札は毎回シャッフルされます。）
        - 「ドクターコース」の場合、「マスターコース」の条件に加えて、取り札が最後の句のみの表示となります。
1. 25枚の取り札をすべて取るとクリアです。「かかった時間＋調整秒数」がスコアとなります。
    - 「かかった時間」は、「ゲームスタート！」を押してから最後の取り札を押すまでにかかった秒数です。
    - 「調整秒数」は、次の通りです。
        - 連続10回正解すると、-1秒
        - 連続20回正解すると、さらに-2秒
        - おてつきを一度もせずにクリアすると、さらに-2秒
        - おてつき2回ごとに+1秒
    - 難易度が「上級」「マスターコース」「ドクターコース」の場合、スコアをランキングに登録することができます。ただし、すでにランキングに登録されている名前を登録しようとした場合、もし登録されているものよりスコアが良くなっていたら、新しい方のスコアで登録しなおされます。

## Acknowledgments
小倉百人一首のデータであるdata.jsonは、[こちらのサイトのJSON](https://qiita.com/wakaba@github/items/861500682eb414142938)を、convert_json/convert_json.htmlで改変して使用させていただきました。
